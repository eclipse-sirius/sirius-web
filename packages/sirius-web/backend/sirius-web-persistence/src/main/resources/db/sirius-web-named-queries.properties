Document.findAllByType=SELECT * FROM Document document WHERE length(document.content) > 0 AND document.content::::jsonb @> ('{ "ns": { "' || ?1 || '": "' || ?2 ||'" } }')::::jsonb
Representation.deleteDanglingRepresentations=DELETE FROM Representation representation WHERE representation.project_id=?1 AND NOT EXISTS (SELECT * FROM Document document WHERE document.project_id=?1 AND jsonb_path_exists(document.content::::jsonb, ('strict $.content.**.id ? (@ == "' || representation.targetobjectid || '" ) ')::::jsonpath))
